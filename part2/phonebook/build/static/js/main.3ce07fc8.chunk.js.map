{"version":3,"sources":["services/persons.js","components/Filter.js","components/Notification.js","components/PersonsForm.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","erase","delete","Filter","props","text","value","onChange","Notification","popup","className","status","message","PersonsForm","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","Person","name","number","onClick","Persons","array","map","person","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setPopup","useEffect","personService","initialPersons","personsFiltered","filter","v","toLowerCase","includes","event","target","preventDefault","alert","find","window","confirm","changedNumber","returnedPerson","element","setTimeout","catch","error","item","personObject","concat","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ce07fc8.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst erase = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst exportedObject = {\r\n    getAll,\r\n    create,\r\n    update,\r\n    erase\r\n}\r\n\r\nexport default exportedObject","import React from 'react'\r\n\r\nconst Filter = (props) =>\r\n<form>\r\n  {props.text} <input value = {props.value} onChange = {props.onChange}/>\r\n</form>\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst Notification = ({ popup }) => {\r\n    if (popup !== null) {\r\n      return (\r\n        <div className={popup.status}>{popup.message}</div>\r\n      )\r\n    }\r\n    else {\r\n      return <div></div>\r\n    }\r\n  }\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst PersonsForm = (props) =>\r\n<form onSubmit = {props.onSubmit}>\r\n  <div>name: <input value = {props.valueName} onChange = {props.onChangeName}/></div>\r\n  <div>number: <input value = {props.valueNumber} onChange = {props.onChangeNumber}/></div>\r\n  <div> <button type=\"submit\">add</button> </div>\r\n</form>\r\n\r\nexport default PersonsForm;","import React from 'react'\r\n\r\n\r\nconst Person = (props) =>\r\n  <div>\r\n    {props.name} {props.number}\r\n    <button onClick={props.onClick}>\r\n    delete\r\n  </button>\r\n  </div>\r\n\r\nexport default Person;","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({array, onClick}) =>\r\n<div>\r\n  {array.map(\r\n  (person) => <Person key={person.id} name = {person.name} number={person.number} onClick={() => onClick(person.id)}/>\r\n  )}\r\n</div>\r\n\r\nexport default Persons;","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonsForm from './components/PersonsForm'\nimport Persons from './components/Persons'\nimport './App.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ popup, setPopup ] = useState(null)\n  const handleNameChange = event => setNewName(event.target.value)\n  const handleNumberChange = event => setNewNumber(event.target.value)\n  const handleFilterChange = event => setNewFilter(event.target.value)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = event => {\n    event.preventDefault()\n    if (newName === '' || newNumber === '') {\n      alert(\"Name or number cannot be blank\")\n    }\n    else { //In this case, a name is also unique since duplicate addition is prevented and replaced with updating number\n      const person = persons.find(v => v.name.toLowerCase() === newName.toLowerCase())\n      if (person) {\n        if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n          //console.log(person)\n          const changedNumber = {...person, number: newNumber}\n  \n          personService\n          .update(person.id, changedNumber)\n          .then(returnedPerson => {\n            setPersons(persons.map(element => element.id !== person.id ? element : returnedPerson))\n            setPopup({\n              message: `Updated ${person.name}`,\n              status: 'success'\n            })\n            setTimeout(() => {setPopup(null)}, 3000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setPopup({\n              message: `Information of ${person.name} has already been removed from the server `,\n              status: 'error'\n            })\n            setTimeout(() => {setPopup(null)}, 3000)\n            setPersons(persons.filter(item => item.id !== person.id))\n            setNewName('')\n            setNewNumber('')\n          })\n        }\n      }\n      else {\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n  \n        personService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setPopup({\n              message: `Added ${returnedPerson.name}`,\n              status: 'success'\n            })\n            setTimeout(() => {setPopup(null)}, 3000)\n            setNewName('')\n            setNewNumber('')\n          })\n      }\n    }\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(n => n.id === id)\n\n    if (window.confirm(`delete ${person.name} ?`)) {\n      personService\n      .erase(id)\n      .then(() => {\n        setPersons(persons.filter(item => item.id !== person.id))\n      })\n    }\n  }\n\n  const personsFiltered = (newFilter === '')\n  ? persons\n  : persons.filter(\n    v => v.name.toLowerCase().includes((newFilter).toLowerCase()) //toLowerCase() is used to handle\n    )  // insensitive case problems by lowercasing both the 'name' property and the user's input\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification popup = {popup}/>\n      <Filter text = {'filter shown with'} value={newFilter} onChange={handleFilterChange}/>\n\n      <h2>add a new</h2>\n      <PersonsForm\n      onSubmit = {addPerson}\n      valueName = {newName} onChangeName = {handleNameChange}\n      valueNumber = {newNumber} onChangeNumber={handleNumberChange}/>\n\n      <h2>Numbers</h2>\n      <Persons array = {personsFiltered} onClick={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}